// @/lib/i18n.ts

// Les traductions brutes
export const translations = {
  fr: {
    auth: {
      'accountActivated': 'Account Activated',
      'alreadyHaveAccount': 'Already Have Account',
      'backToLogin': 'Back To Login',
      'browseCatalogue': 'Browse Catalogue',
      'checkEmail': 'Check Email',
      'checkingLink': 'Checking Link',
      'confirmationSuccess': 'Confirmation Success',
      'confirmPassword': 'Confirm Password',
      'forgotPassword': 'Forgot Password',
      'forgotPasswordSubtitle': 'Forgot Password Subtitle',
      'forgotPasswordTitle': 'Forgot Password Title',
      'goToLogin': 'Go To Login',
      'invalidLink': 'Invalid Link',
      'loginTitle': 'Login Title',
      'newPassword': 'New Password',
      'newPasswordSubtitle': 'New Password Subtitle',
      'newPasswordTitle': 'New Password Title',
      'noAccountCta': 'No Account Cta',
      'redirectLogin': 'Redirect Login',
      'register': 'Register',
      'registerSuccess': 'Register Success',
      'requestNewLink': 'Request New Link',
      'signInHere': 'Sign In Here',
      'termsAgreement': 'Terms Agreement',
      'thanksForConfirming': 'Thanks For Confirming'
    },
    catalogue: {
      'addWhiskyButton': 'Add Whisky Button',
      'addWhiskyDescription': 'Add Whisky Description',
      'loginRequired': 'Login Required',
      'loginToAdd': 'Login To Add',
      'missingWhisky': 'Missing Whisky'
    },
    common: {
      'backEdit': 'Back Edit',
      'backToScan': 'Back To Scan',
      'continue': 'Continue',
      'or': 'Or',
      'retry': 'Retry',
      'selectEmpty': 'Select Empty'
    },
    form: {
      'email': 'Email',
      'emailPlaceholder': 'Email Placeholder',
      'password': 'Password',
      'passwordPlaceholder': 'Password Placeholder',
      'pseudo': 'Pseudo',
      'pseudoPlaceholder': 'Pseudo Placeholder'
    },
    home: {
      'ctaExplore': 'Cta Explore',
      'ctaRegister': 'Cta Register',
      'featureAnalyticsDesc': 'Feature Analytics Desc',
      'featureAnalyticsTitle': 'Feature Analytics Title',
      'featureExploreDesc': 'Feature Explore Desc',
      'featureExploreTitle': 'Feature Explore Title',
      'featureScanDesc': 'Feature Scan Desc',
      'featureScanTitle': 'Feature Scan Title',
      'footer': 'Footer',
      'heroSubtitle': 'Hero Subtitle',
      'heroTitle': 'Hero Title'
    },
    navigation: {
      'aromaticWheel': 'Roue aromatique',
      'catalogue': 'Catalogue',
      'explorer': 'Explorer',
      'home': 'Home',
      'map': 'Map',
      'myAccount': 'My Account',
      'notebook': 'Notebook',
      'signIn': 'Sign In',
      'signOut': 'Sign Out',
      'signUp': 'Sign Up',
      'welcome': 'Welcome'
    },
    validation: {
      'passwordRules': 'Password Rules'
    },
    whisky: {
      'backToCatalogue': 'Back To Catalogue',
      'barcodeDetected': 'Barcode Detected',
      'barcodeExists': 'Barcode Exists',
      'barcodeFormat': 'Barcode Format',
      'bottlingDB': 'Bottling D B',
      'bottlingIB': 'Bottling I B',
      'canContinueManual': 'Can Continue Manual',
      'createSuccess': 'Create Success',
      'createWhisky': 'Create Whisky',
      'duplicateFound': 'Duplicate Found',
      'fieldAge': 'Field Age',
      'fieldAlcoholVolume': 'Field Alcohol Volume',
      'fieldBarcode': 'Field Barcode',
      'fieldBatchId': 'Field Batch Id',
      'fieldBottledFor': 'Field Bottled For',
      'fieldBottledYear': 'Field Bottled Year',
      'fieldBottlePhoto': 'Field Bottle Photo',
      'fieldBottler': 'Field Bottler',
      'fieldBottlingType': 'Field Bottling Type',
      'fieldCaskType': 'Field Cask Type',
      'fieldCountry': 'Field Country',
      'fieldDistilledYear': 'Field Distilled Year',
      'fieldDistiller': 'Field Distiller',
      'fieldName': 'Field Name',
      'fieldRegion': 'Field Region',
      'fieldType': 'Field Type',
      'loadingScanner': 'Loading Scanner',
      'manualBarcodeHint': 'Manual Barcode Hint',
      'manualBarcodePlaceholder': 'Manual Barcode Placeholder',
      'manualBarcodeTitle': 'Manual Barcode Title',
      'noBarcode': 'No Barcode',
      'noBarcodeFound': 'No Barcode Found',
      'scanning': 'Scanning',
      'scanResultTitle': 'Scan Result Title',
      'step1Title': 'Step1 Title',
      'step2Subtitle': 'Step2 Subtitle',
      'step2Title': 'Step2 Title',
      'step3Title': 'Step3 Title',
      'stepCrop': 'Step Crop',
      'stepPhoto': 'Step Photo',
      'stepResult': 'Step Result',
      'takeBottlePhoto': 'Take Bottle Photo',
      'takeLabelPhoto': 'Take Label Photo'
    }
  },
  en: {
    auth: {
      'accountActivated': 'Account Activated',
      'alreadyHaveAccount': 'Already Have Account',
      'backToLogin': 'Back To Login',
      'browseCatalogue': 'Browse Catalogue',
      'checkEmail': 'Check Email',
      'checkingLink': 'Checking Link',
      'confirmationSuccess': 'Confirmation Success',
      'confirmPassword': 'Confirm Password',
      'forgotPassword': 'Forgot Password',
      'forgotPasswordSubtitle': 'Forgot Password Subtitle',
      'forgotPasswordTitle': 'Forgot Password Title',
      'goToLogin': 'Go To Login',
      'invalidLink': 'Invalid Link',
      'loginTitle': 'Login Title',
      'newPassword': 'New Password',
      'newPasswordSubtitle': 'New Password Subtitle',
      'newPasswordTitle': 'New Password Title',
      'noAccountCta': 'No Account Cta',
      'redirectLogin': 'Redirect Login',
      'register': 'Register',
      'registerSuccess': 'Register Success',
      'requestNewLink': 'Request New Link',
      'signInHere': 'Sign In Here',
      'termsAgreement': 'Terms Agreement',
      'thanksForConfirming': 'Thanks For Confirming'
    },
    catalogue: {
      'addWhiskyButton': 'Add Whisky Button',
      'addWhiskyDescription': 'Add Whisky Description',
      'loginRequired': 'Login Required',
      'loginToAdd': 'Login To Add',
      'missingWhisky': 'Missing Whisky'
    },
    common: {
      'backEdit': 'Back Edit',
      'backToScan': 'Back To Scan',
      'continue': 'Continue',
      'or': 'Or',
      'retry': 'Retry',
      'selectEmpty': 'Select Empty'
    },
    form: {
      'email': 'Email',
      'emailPlaceholder': 'Email Placeholder',
      'password': 'Password',
      'passwordPlaceholder': 'Password Placeholder',
      'pseudo': 'Pseudo',
      'pseudoPlaceholder': 'Pseudo Placeholder'
    },
    home: {
      'ctaExplore': 'Cta Explore',
      'ctaRegister': 'Cta Register',
      'featureAnalyticsDesc': 'Feature Analytics Desc',
      'featureAnalyticsTitle': 'Feature Analytics Title',
      'featureExploreDesc': 'Feature Explore Desc',
      'featureExploreTitle': 'Feature Explore Title',
      'featureScanDesc': 'Feature Scan Desc',
      'featureScanTitle': 'Feature Scan Title',
      'footer': 'Footer',
      'heroSubtitle': 'Hero Subtitle',
      'heroTitle': 'Hero Title'
    },
    navigation: {
      'aromaticWheel': 'my Aromatic Wheel',
      'catalogue': 'Catalogue',
      'explorer': 'Explorer',
      'home': 'Home',
      'map': 'Map',
      'myAccount': 'My Account',
      'notebook': 'Notebook',
      'signIn': 'Sign In',
      'signOut': 'Sign Out',
      'signUp': 'Sign Up',
      'welcome': 'Welcome'
    },
    validation: {
      'passwordRules': 'Password Rules'
    },
    whisky: {
      'backToCatalogue': 'Back To Catalogue',
      'barcodeDetected': 'Barcode Detected',
      'barcodeExists': 'Barcode Exists',
      'barcodeFormat': 'Barcode Format',
      'bottlingDB': 'Bottling D B',
      'bottlingIB': 'Bottling I B',
      'canContinueManual': 'Can Continue Manual',
      'createSuccess': 'Create Success',
      'createWhisky': 'Create Whisky',
      'duplicateFound': 'Duplicate Found',
      'fieldAge': 'Field Age',
      'fieldAlcoholVolume': 'Field Alcohol Volume',
      'fieldBarcode': 'Field Barcode',
      'fieldBatchId': 'Field Batch Id',
      'fieldBottledFor': 'Field Bottled For',
      'fieldBottledYear': 'Field Bottled Year',
      'fieldBottlePhoto': 'Field Bottle Photo',
      'fieldBottler': 'Field Bottler',
      'fieldBottlingType': 'Field Bottling Type',
      'fieldCaskType': 'Field Cask Type',
      'fieldCountry': 'Field Country',
      'fieldDistilledYear': 'Field Distilled Year',
      'fieldDistiller': 'Field Distiller',
      'fieldName': 'Field Name',
      'fieldRegion': 'Field Region',
      'fieldType': 'Field Type',
      'loadingScanner': 'Loading Scanner',
      'manualBarcodeHint': 'Manual Barcode Hint',
      'manualBarcodePlaceholder': 'Manual Barcode Placeholder',
      'manualBarcodeTitle': 'Manual Barcode Title',
      'noBarcode': 'No Barcode',
      'noBarcodeFound': 'No Barcode Found',
      'scanning': 'Scanning',
      'scanResultTitle': 'Scan Result Title',
      'step1Title': 'Step1 Title',
      'step2Subtitle': 'Step2 Subtitle',
      'step2Title': 'Step2 Title',
      'step3Title': 'Step3 Title',
      'stepCrop': 'Step Crop',
      'stepPhoto': 'Step Photo',
      'stepResult': 'Step Result',
      'takeBottlePhoto': 'Take Bottle Photo',
      'takeLabelPhoto': 'Take Label Photo'
    }
  },
}

export type Locale = keyof typeof translations
export type TranslationKey = string

// Fonction de traduction
export function t(locale: Locale, key: TranslationKey): string {
  const keys = key.split('.')
  let value: any = translations[locale]
  
  for (const k of keys) {
    if (value && typeof value === 'object' && k in value) {
      value = value[k]
    } else {
      console.warn(`Missing translation for key: ${key} in locale: ${locale}`)
      return key
    }
  }
  
  return typeof value === 'string' ? value : key
}

export function getTranslations(locale: Locale) {
  return (key: TranslationKey) => t(locale, key)
}
